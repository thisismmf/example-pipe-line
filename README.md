```markdown
# Ù…Ø³ØªÙ†Ø¯ Ú©Ø§Ù…Ù„ Ù¾ÛŒØ§Ø¯Ù‡â€‘Ø³Ø§Ø²ÛŒ Ù¾Ø§ÛŒÙ¾â€ŒÙ„Ø§ÛŒÙ† **Kafka â†’ Logstash â†’ Elasticsearch â†’ Kibana**

> Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø² Ø²Ø¨Ø§Ù† ÛŒÚ© **Ø¯ÛŒØªØ§ Ø§Ù†Ø¬ÛŒÙ†ÛŒØ± Ø¬ÙˆÙ†ÛŒÙˆØ±** Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ¬Ø±Ø¨Ù‡â€ŒÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ú©Ù‡ Ø¯Ø± Ø·ÙˆÙ„ Ù‡Ù…ÛŒÙ† Ú†Øª Ù¾Ø´Øª Ø³Ø± Ú¯Ø°Ø§Ø´ØªÙ… ðŸ˜Š

---

## ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨
1. [Ù…Ø¹Ø±ÙÛŒ Ú©Ù„ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡](#Ù…Ø¹Ø±ÙÛŒ-Ú©Ù„ÛŒ-Ù¾Ø±ÙˆÚ˜Ù‡)  
2. [Ø³Ø§Ø®ØªØ§Ø± Ù¾ÙˆØ´Ù‡â€ŒÙ‡Ø§](#Ø³Ø§Ø®ØªØ§Ø±-Ù¾ÙˆØ´Ù‡Ù‡Ø§)  
3. [Ø¬Ø²Ø¦ÛŒØ§Øª Ù‡Ø± Ù…Ø¤Ù„ÙÙ‡](#Ø¬Ø²Ø¦ÛŒØ§Øª-Ù‡Ø±-Ù…Ø¤Ù„ÙÙ‡)  
   - Producer (Python)  
   - Kafka &Â Zookeeper  
   - Logstash  
   - Elasticsearch  
   - Kibana  
4. [Ù…Ø±Ø§Ø­Ù„ Ø§Ø¬Ø±Ø§](#Ù…Ø±Ø§Ø­Ù„-Ø§Ø¬Ø±Ø§)  
5. [Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ Ùˆ Ø¨Ø§Ú¯â€ŒÙ‡Ø§ + Ø±Ø§Ù‡Ú©Ø§Ø±Ù‡Ø§](#Ú†Ø§Ù„Ø´Ù‡Ø§-Ùˆ-Ø¨Ø§Ú¯Ù‡Ø§--Ø±Ø§Ù‡Ú©Ø§Ø±Ù‡Ø§)  
6. [Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡](#Ú©Ø§Ø±Ù‡Ø§ÛŒ-Ø¢ÛŒÙ†Ø¯Ù‡)  

---

## Ù…Ø¹Ø±ÙÛŒ Ú©Ù„ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡
Ù‡Ø¯Ù Ø§ÛŒÙ† Ø¨ÙˆØ¯ Ú©Ù‡ ÛŒÚ© Ù¾Ø§ÛŒÙ¾â€ŒÙ„Ø§ÛŒÙ† **Endâ€‘toâ€‘End** Ø¨Ø³Ø§Ø²Ù… Ú©Ù‡:

1. **Ø¯Ø§Ø¯Ù‡â€ŒÛŒ Ø®Ø§Ù… Ùˆ Ø¨Ù‡â€‘Ù‡Ù… Ø±ÛŒØ®ØªÙ‡** (unstructured JSON) Ø±Ø§ Ø¨Ø§ ÛŒÚ© Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Python Ø¨Ù‡ **Kafka** Ø¨ÙØ±Ø³ØªÙ….  
2. Ø¨Ø§ **Logstash** Ø¯Ø§Ø¯Ù‡ Ø±Ø§ ØªÙ…ÛŒØ² Ùˆ Ù†Ø±Ù…Ø§Ù„ (id â†’ integerØŒ timestamp ÛŒÚ©Ù†ÙˆØ§Ø®ØªØŒ Ø­Ø°Ù ÙÛŒÙ„Ø¯ Ø§Ø¶Ø§ÙÙ‡ØŒ Ø®Ø§Ù„ÛŒ Ø¨Ù‡ null â€¦) Ú©Ù†Ù….  
3. Ø®Ø±ÙˆØ¬ÛŒ ØªÙ…ÛŒØ² Ø±Ø§ Ø¯Ø± **Elasticsearch** Ø§ÛŒÙ†Ø¯Ú©Ø³ **`test_pipeline`** Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†Ù….  
4. Ø¯Ø± **Kibana** Ø¨ØªÙˆØ§Ù†Ù… Ù‡Ù…Ø§Ù† Ø§Ø³Ù†Ø§Ø¯ Ø±Ø§ Ø¨Ø¨ÛŒÙ†Ù… Ùˆ Ø§Ø³Ú©Ø±ÛŒÙ†â€‘Ø´Ø§Øª Ø¨Ú¯ÛŒØ±Ù….

---

## Ø³Ø§Ø®ØªØ§Ø± Ù¾ÙˆØ´Ù‡â€ŒÙ‡Ø§
```
.
â”œâ”€â”€ data/                  # ÙØ§ÛŒÙ„ Ù†Ù…ÙˆÙ†Ù‡â€ŒÛŒ Ø®Ø§Ù…
â”‚   â””â”€â”€ sample.json
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ logstash/
â”‚   â””â”€â”€ pipeline/
â”‚       â””â”€â”€ logstash.conf
â”œâ”€â”€ python_producer/
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ Dockerfile.producer
â”‚   â””â”€â”€ producer.py
â””â”€â”€ README.md              # Ù‡Ù…ÛŒÙ† ÙØ§ÛŒÙ„
```

---

## Ø¬Ø²Ø¦ÛŒØ§Øª Ù‡Ø± Ù…Ø¤Ù„ÙÙ‡

### 1Â â€“Â Producer (Python)

| ÙØ§ÛŒÙ„  | ØªÙˆØ¶ÛŒØ­ |
|-------|-------|
| `producer.py` | Ø¯Ø§Ø¯Ù‡ Ø±Ø§ Ø§Ø² `data/sample.json` Ù…ÛŒâ€ŒØ®ÙˆØ§Ù†Ø¯ØŒ Ù‡Ø± Ø±Ú©ÙˆØ±Ø¯ Ø±Ø§ Ø¨Ù‡â€ŒØµÙˆØ±Øª JSON Ø¯Ø± Kafka topic Ø¨Ù‡ Ù†Ø§Ù… **`test_pipeline`** Ù…ÛŒâ€ŒÙØ±Ø³ØªØ¯. |
| `Dockerfile.producer` | Ø§ÛŒÙ…ÛŒØ¬ Ú©Ù…â€ŒØ­Ø¬Ù… **python:3.9â€‘slim**ØŒ Ù†ØµØ¨ `kafka-python` Ø§Ø² Ø±ÙˆÛŒ `requirements.txt` Ùˆ Ø§Ø¬Ø±Ø§ÛŒ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª. |
| Mounts | Ø¨Ø§ volumeÂ Ù‡Ø§ØŒ Ù‡Ù… Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ùˆ Ù‡Ù… ÙØ§ÛŒÙ„ JSON Ø¯Ø§Ø®Ù„ Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø¯Ø± `/app` Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ù†Ø¯. |

### 2Â â€“Â Kafka &Â Zookeeper
Ø§Ø² Ø§ÛŒÙ…ÛŒØ¬â€ŒÙ‡Ø§ÛŒ Ø±Ø³Ù…ÛŒ **Confluent Platform 7.0.1** Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯Ù….  
ØªÙ†Ù‡Ø§ Ù†Ú©ØªÙ‡â€ŒÛŒ Ù…Ù‡Ù… Ø³Øª Ú©Ø±Ø¯Ù† `KAFKA_ADVERTISED_LISTENERS` Ø±ÙˆÛŒ `kafka:9092` Ø¨ÙˆØ¯ ØªØ§ Ø³Ø§ÛŒØ± Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ Ø¯Ø§Ø®Ù„ Ø´Ø¨Ú©Ù‡â€ŒÛŒ Docker Ø¨ØªÙˆØ§Ù†Ù†Ø¯ ÙˆØµÙ„ Ø´ÙˆÙ†Ø¯.

### 3Â â€“Â Logstash
ÙØ§ÛŒÙ„Â `logstash.conf` Ø³Ù‡ Ø¨Ø®Ø´ Ø¯Ø§Ø±Ø¯:

```conf
input  { kafka { ... } }

filter {
  mutate { rename => { "full_name" => "name" } remove_field => ["extra_field"] }
  mutate { convert => { "id" => "integer" } }
  mutate { gsub => ["timestamp","/","-"] }
  date   { match => ["timestamp","yyyy-MM-dd HH:mm:ss","ISO8601"] timezone => "UTC" }
  mutate { convert => { "active" => "boolean" } }
  ruby   { code => "event.get('name').strip!; event.set('name', nil) if event.get('name').empty?" }
}

output { elasticsearch { index => "test_pipeline" } stdout { codec => rubydebug } }
```

### 4Â â€“Â Elasticsearch
Ø§ÛŒÙ…ÛŒØ¬ **`docker.elastic.co/elasticsearch:7.17.9`** Ø¯Ø± Ø­Ø§Ù„Øª singleâ€‘node Ø¨Ø§ ÛµÛ±Û²Â MB RAM.  
Ø§ÛŒÙ†Ø¯Ú©Ø³ Ù‡Ø¯ÙÙ…Ø§Ù† ( `test_pipeline` ) Ø±Ø§ Logstash Ø¨Ù‡â€‘ØµÙˆØ±Øª Ø§ØªÙˆÙ…Ø§ØªÛŒÚ© Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

### 5Â â€“Â Kibana
ÙˆØ±Ú˜Ù† Ù…ØªÙ†Ø§Ø¸Ø± Û·Ù«Û±Û·Ù«Û¹Ø› ÙÙ‚Ø· `ELASTICSEARCH_HOSTS` Ø±Ø§ Ø±ÙˆÛŒ `http://elasticsearch:9200` Ú¯Ø°Ø§Ø´ØªÙ….

---

## Ù…Ø±Ø§Ø­Ù„ Ø§Ø¬Ø±Ø§

```bash
# 1. Ú©Ù„ Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø³Ø§Ø² Ùˆ Ø§Ø¬Ø±Ø§ Ú©Ù†
docker-compose up --build

# 2. Ø¯Ø± ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡Ø› Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù†ØŒ producer Ø±Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ø¬Ø±Ø§ Ú©Ù†
docker-compose run --rm producer

# 3. Ù„Ø§Ú¯â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø¨ÛŒÙ†
docker-compose logs -f logstash elasticsearch
```

Ø³Ù¾Ø³ Ø¯Ø± Ù…Ø±ÙˆØ±Ú¯Ø±:  
`http://localhost:5601` â†  **Explore on my own** â†  **Discover** â† Ø§ÛŒØ¬Ø§Ø¯ index pattern Ø¨Ù‡ Ù†Ø§Ù… `test_pipeline*` Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ ÙÛŒÙ„Ø¯ Ø²Ù…Ø§Ù† `timestamp`.

---

## Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ Ùˆ Ø¨Ø§Ú¯â€ŒÙ‡Ø§ + Ø±Ø§Ù‡Ú©Ø§Ø±Ù‡Ø§
| Ú†Ø§Ù„Ø´ | Ø´Ø±Ø­ Ø§ØªÙØ§Ù‚ | Ø±Ø§Ù‡Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ø§Ø¬Ø±Ø§ Ú©Ø±Ø¯Ù… |
|------|-----------|----------------------|
| **Dockerfile.producer Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯** | Ø¯Ø± Ø§ÙˆÙ„ÛŒÙ†Â `docker-compose up` Ø®Ø·Ø§ÛŒ `failed to read dockerfile: Dockerfile.producer` Ú¯Ø±ÙØªÙ…. | ÙØ§ÛŒÙ„ Dockerfile.producer Ø±Ø§ Ø³Ø§Ø®ØªÙ… Ùˆ Ø¯Ø± `docker-compose.yml` Ù…Ø³ÛŒØ± `dockerfile:` Ø±Ø§ Ø³Øª Ú©Ø±Ø¯Ù…. |
| **Ù†Ø¯ÛŒØ¯Ù† Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø¯Ø± Kibana** | Kibana Ù…ÛŒâ€ŒÚ¯ÙØª Â«Name must match one or more indicesÂ». | ÙÙ‡Ù…ÛŒØ¯Ù… Ø¯Ø§Ø¯Ù‡ Ø§ØµÙ„Ø§Ù‹ ÙˆØ§Ø±Ø¯ ES Ù†Ø´Ø¯Ù‡Ø› Ø¨Ø§ `curl _cat/indices` Ú†Ú© Ú©Ø±Ø¯Ù… â†’ Ø§ÛŒÙ†Ø¯Ú©Ø³ Ù†Ø¨ÙˆØ¯. Ù„Ø§Ú¯ Logstash Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø±Ø¯Ù…ØŒ producer Ø±Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ø¬Ø±Ø§ Ú©Ø±Ø¯Ù… ØªØ§ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ Ø¨Ø¹Ø¯ Ø§Ø² Ø¢Ù…Ø§Ø¯Ù‡â€‘Ø´Ø¯Ù† Kafka Ø§Ø±Ø³Ø§Ù„ Ø´ÙˆÙ†Ø¯. |
| **No results in Discover** | Ø­ØªÛŒ Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÛŒÙ†Ø¯Ú©Ø³ØŒ Discover Ø®Ø§Ù„ÛŒ Ø¨ÙˆØ¯. | ØªØ§ÛŒÙ…â€‘Ù¾ÛŒÚ©Ø± Kibana Ø±ÙˆÛŒ **LastÂ 15Â minutes** Ø¨ÙˆØ¯ ÙˆÙ„ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÛŒ Ù…Ù† Ø¨Ø±Ø§ÛŒ 2025â€‘01â€‘31 Ø¨ÙˆØ¯! Ø¨Ø§Ø²Ù‡â€ŒÛŒ Ø²Ù…Ø§Ù†ÛŒ Ø±Ø§ Ø±ÙˆÛŒ **Last 90 days** Ú¯Ø°Ø§Ø´ØªÙ…. |
| **Ø¬Ø§ÛŒâ€ŒÚ¯Ø°Ø§Ø±ÛŒ sample.json** | Ø§Ø¨ØªØ¯Ø§ volume Ø±Ø§ Ø§Ø´ØªØ¨Ø§Ù‡ mount Ú©Ø±Ø¯Ù‡ Ø¨ÙˆØ¯Ù… Ùˆ ÙØ§ÛŒÙ„ Ø¯Ø§Ø®Ù„ Ú©Ø§Ù†ØªÛŒÙ†Ø± Ù†Ø¨ÙˆØ¯. | Volume `./data:/app/data:ro` Ø±Ø§ Ø¨Ù‡ Ø³Ø±ÙˆÛŒØ³ producer Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù… Ùˆ Ø¨Ø§ `ls /app/data` Ú†Ú© Ú©Ø±Ø¯Ù…. |
| **ØªØ±ØªÛŒØ¨ Ø¨Ø§Ù„Ø§ Ø¢Ù…Ø¯Ù† Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§** | producer Ø²ÙˆØ¯ØªØ± Ø§Ø² Kafka Ø¨Ø§Ù„Ø§ Ù…ÛŒâ€ŒØ¢Ù…Ø¯ Ùˆ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ Ø±Ø§ drop Ù…ÛŒâ€ŒÚ©Ø±Ø¯. | `depends_on` Ú©Ø§ÙÛŒ Ù†Ø¨ÙˆØ¯Ø› Ø¨Ø¹Ø¯ Ø§Ø² Ø¨Ø§Ù„Ø§ Ø¢Ù…Ø¯Ù† Ù‡Ù…Ù‡ Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ØŒ producer Ø±Ø§ Ø¯Ø³ØªÛŒ Ø§Ø¬Ø±Ø§ Ú©Ø±Ø¯Ù… (`docker-compose run --rm producer`). |
| **Ø®Ø·Ø§ÛŒ ØªØ§Ø±ÛŒØ® Ø¯Ø± Logstash** | ÙØ±Ù…Øª `2025/01/31 12:34:56` Ù¾Ø§Ø±Ø³ Ù†Ù…ÛŒâ€ŒØ´Ø¯. | Ù‚Ø¨Ù„ Ø§Ø² ÙÛŒÙ„ØªØ± `date` ÛŒÚ© `gsub` Ù†ÙˆØ´ØªÙ… Ú©Ù‡ `/` Ø±Ø§ Ø¨Ù‡ `-` Ø¨Ø¯Ù„ Ú©Ù†Ø¯Ø› Ø³Ù¾Ø³ Ø§Ù„Ú¯ÙˆÛŒ `"yyyy-MM-dd HH:mm:ss"` Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù…. |
| **Null Ú©Ø±Ø¯Ù† name Ø®Ø§Ù„ÛŒ** | `full_name` Ù…Ù…Ú©Ù† Ø¨ÙˆØ¯ ÙÙ‚Ø· space Ø¨Ø§Ø´Ø¯. | Ø¨Ø§ ÛŒÚ© ÙÛŒÙ„ØªØ± RubyØŒ Ø§Ø³ØªØ±ÛŒÙ¾ Ú©Ø±Ø¯Ù… Ùˆ Ø§Ú¯Ø± Ø®Ø§Ù„ÛŒ Ø¨ÙˆØ¯ `nil` Ø³Øª Ú©Ø±Ø¯Ù…. |

---

## Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡
* ØªØ¹Ø±ÛŒÙ **Index Template** ØªØ§ mapping Ø¯Ù‚ÛŒÙ‚ (id â†’ longØŒ active â†’ boolean) Ù‚Ø¨Ù„ Ø§Ø² ingest Ø³Øª Ø´ÙˆØ¯.  
* Ø§Ø¶Ø§ÙÙ‡â€ŒÚ©Ø±Ø¯Ù† **Filebeat** Ø¨Ø±Ø§ÛŒ ingest ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù„Ø§Ú¯ ÙˆØ§Ù‚Ø¹ÛŒ.  
* Ø³Ø§Ø®Øª Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Kibana Ø¨Ø§ visualisationÙ‡Ø§ÛŒ Ø§Ø² Ù¾ÛŒØ´ Ø¢Ù…Ø§Ø¯Ù‡.

---

> Ù…Ù…Ù†ÙˆÙ† Ú©Ù‡ Ù…Ø³ØªÙ†Ø¯ Ù…Ù† Ø±Ø§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù†ÛŒØ¯Ø› Ø§Ú¯Ø± Ø³ÙˆØ§Ù„ ÛŒØ§ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ Ø¯Ø§Ø±ÛŒØ¯ Ø®ÙˆØ´Ø­Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆÙ… Ø¨Ø¯Ø§Ù†Ù…! ðŸ™‚
```